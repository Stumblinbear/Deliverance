(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["systems"],{"0ce4":function(t,s,a){},"13a3":function(t,s,a){"use strict";a("0ce4")},"3c6b":function(t,s,a){"use strict";a.r(s);var e=a("0798"),i=a("8336"),r=a("b0af"),n=a("99d9"),o=a("62ad"),l=a("a523"),c=a("169a"),p=a("ce7e"),u=a("da13"),h=a("5d23"),d=a("490a"),m=a("0fd9"),y=a("8dd9"),f=a("3129"),_=function(){var t=this,s=t._self._c;return t.system.data?s("div",[s(y["a"],{staticClass:"mb-5",attrs:{rounded:"",color:"black"}},[s(m["a"],{staticClass:"system-view",attrs:{align:"center",justify:"space-around","no-gutters":""}},[s("sun"),t._l(t.sortOrbits(t.system.data.system.locations),(function(a,e){return s(o["a"],{key:"location-"+e,staticClass:"text-center"},[s("location-image",{staticClass:"mx-auto",attrs:{location:a}}),s("div",{staticClass:"pt-4"},[s("small",[t._v(t._s(a.name))]),s("br"),s("small",[t._v(t._s(parseFloat(t.getDistance(a).toFixed(1)))+" DU")])])],1)}))],2)],1),s(l["a"],[s(m["a"],{attrs:{align:"center"}},[s(o["a"],{staticClass:"text-h3 text-center text-sm-left",attrs:{cols:"12",sm:"9"}},[t._v(" "+t._s(t.system.data.system.name)+" ")]),s(o["a"],{attrs:{cols:"12",sm:"3"}},[s(i["a"],{attrs:{depressed:"",block:"",color:"primary"},on:{click:function(s){t.shipyard.reveal=!0}}},[t._v(" View Shipyard ")])],1)],1),s(m["a"],{attrs:{justify:"center"}},[t.ships.data?0==t.ships.data.ships.length?s(o["a"],[s(e["a"],[t._v(" You have no ships in this system. ")])],1):[t.shipLocations.inTransit.length>0?s(o["a"],{attrs:{cols:"12",md:"6"}},[s(r["a"],[s(u["a"],[s(h["a"],[s(h["c"],{staticClass:"headline"},[t._v("In Transit")])],1)],1),s(p["a"]),t._l(t.shipLocations.inTransit,(function(a,e){return s("ship-list-item",{key:"intransit-"+e,attrs:{ship:a},on:{refresh:function(s){return t.ships.reload(!0)}}})}))],2)],1):t._e(),t._l(t.shipLocations.locations,(function(a,e){return s(o["a"],{key:"location-"+e,attrs:{cols:"12",md:"6"}},[s(r["a"],[t.system.data.system?s(u["a"],{attrs:{"two-line":""}},[s(h["a"],[s(h["c"],{staticClass:"headline"},[t._v(t._s(a.name))]),s(h["b"],[t._v(t._s(a.symbol))])],1),s("location-image",{attrs:{location:a}})],1):t._e(),s(p["a"]),t._l(a.ships,(function(i,r){return s("ship-list-item",{key:"location-"+e+"-"+r,attrs:{ship:i,location:a},on:{refresh:function(s){return t.ships.reload(!0)}}})}))],2)],1)}))]:s(o["a"],[s(m["a"],[s(o["a"],{attrs:{cols:"12",md:"6"}},[s(r["a"],[s(n["b"],[s(f["a"],{attrs:{type:"heading"}})],1),s("ship-list-item")],1)],1),s(o["a"],{attrs:{cols:"12",md:"6"}},[s(r["a"],[s(n["b"],[s(f["a"],{attrs:{type:"heading"}})],1),s("ship-list-item")],1)],1)],1)],1)],2)],1),s(c["a"],{attrs:{width:"800",scrollable:""},model:{value:t.shipyard.reveal,callback:function(s){t.$set(t.shipyard,"reveal",s)},expression:"shipyard.reveal"}},[s(r["a"],[s(n["c"],{staticClass:"headline"},[t._v(" Shipyard ")]),s(p["a"]),t.shipyard.loading?s(n["b"],{staticClass:"text-center pt-6"},[s(d["a"],{attrs:{color:"primary",indeterminate:"",size:"24",width:"2"}})],1):[t.shipyard.error?s(e["a"],{staticClass:"mb-0",attrs:{type:"error",tile:""}},[t._v(" "+t._s(t.shipyard.error)+" ")]):t._e(),s(n["b"],[s("shipyard",{attrs:{system:t.$route.params.id},on:{refresh:function(s){return t.ships.reload(!0)}}})],1)]],2)],1)],1):s("div",[s(f["a"],{attrs:{type:"image"}}),s(l["a"],[s(f["a"],{staticClass:"mt-4",attrs:{type:"heading"}})],1)],1)},v=[],b=(a("13d5"),a("14d9"),a("031d")),g=a("96cb"),C=a("da57"),x=a("adda"),k=a("8270"),I=function(){var t=this,s=t._self._c;return t.ships.error?s(e["a"],{attrs:{prominent:"",type:"error"}},[t._v(" "+t._s(t.ships)+" ")]):s(m["a"],[t.ships.data?0==t.ships.data.ships.length?s(o["a"],[s(e["a"],{attrs:{type:"warning"}},[t._v(" There are no ships available for purchase. ")])],1):s(o["a"],t._l(t.manufacturers,(function(a,e){return s(m["a"],{key:"manufacturer-"+e},[s(o["a"],{attrs:{cols:"12"}},[s(u["a"],[s(k["a"],{attrs:{rounded:"0"}},[s(x["a"],{attrs:{src:"/assets/manufacturers/"+a.name.toLowerCase()+".png"}})],1),s(h["a"],[s(h["c"],[t._v(t._s(a.name))]),s(h["b"],[t._v(t._s(a.info))])],1)],1)],1),t._l(a.ships,(function(a){return s(o["a"],{key:a.type,attrs:{cols:"12",sm:"6",xl:"4"}},[s("ship-purchase",{attrs:{ship:a,system:t.system,location:t.location,"max-credits":t.$store.state.credits}})],1)}))],2)})),1):s(o["a"],[s(m["a"],[s(o["a"],{attrs:{cols:"12"}},[s(u["a"],[s(k["a"],[s(f["a"],{attrs:{type:"avatar"}})],1),s(h["a"],[s(f["a"],{attrs:{type:"heading"}})],1)],1)],1),t._l(4,(function(t){return s(o["a"],{key:t,attrs:{cols:"12",sm:"6",md:"4"}},[s("ship-purchase")],1)}))],2)],1)],1)},S=[],w=a("cc20"),L=a("0789"),M=a("8860"),P=a("1800"),$=a("2fa4"),K=function(){var t=this,s=t._self._c;return t.ship?s(r["a"],{staticClass:"fill-height",attrs:{outlined:""}},[s(n["b"],{staticClass:"pb-0"},[s(m["a"],{attrs:{align:"center"}},[s(o["a"],{staticClass:"shrink"},[t.SHIPS[t.ship.type]?s("div",{staticClass:"ship-img"},t._l(t.SHIPS[t.ship.type],(function(a,e){return s("div",{key:"part-"+e,staticClass:"ship-part",style:t.tile(...a)})})),0):t._e()]),s(o["a"],[t._v(" "+t._s(t.ship.type)+" ")]),s(o["a"],{staticClass:"text-right"},[s(w["a"],{attrs:{small:"",label:""}},[t._v(" "+t._s(t.ship.manufacturer)+" ")])],1)],1)],1),s(u["a"],[s("div",[t._v("Speed")]),s(p["a"],{staticClass:"mx-3"}),t._l(t.ship.speed,(function(t){return s("span",{key:"speed-"+t,staticClass:"pa-2 mr-1 primary rounded-circle d-inline-block"})})),t.ship.speed<3?t._l(3-t.ship.speed,(function(a){return s("span",{key:"speed-"+(t.ship.speed+a),staticClass:"pa-2 mr-1 grey rounded-circle d-inline-block"})})):t._e()],2),t._l([["Max Cargo","maxCargo"],["Plating","plating"],["Weapons","weapons"]],(function([a,e]){return s(u["a"],{key:e},[s("div",[t._v(t._s(a))]),s(p["a"],{staticClass:"mx-3"}),s(w["a"],{attrs:{small:"",label:""}},[t._v(" "+t._s(t.ship[e])+" ")])],1)})),s(n["a"],[s(w["a"],[t._v(" "+t._s(t.abbreviate(t.minimumPrice))+" Credits ")]),s(p["a"],{staticClass:"ml-2 mr-5"}),s(i["a"],{attrs:{depressed:"",color:"primary",loading:t.loading||null==t.maxCredits,disabled:t.minimumPrice>t.maxCredits},on:{click:function(s){t.reveal=!0}}},[t._v(" Purchase ")])],1),s(L["a"],[t.reveal?s(r["a"],{staticClass:"transition-fast-in-fast-out v-card--reveal",staticStyle:{height:"calc(100% - 56px)"}},[s(M["a"],{staticClass:"py-0",attrs:{dense:""}},t._l(t.purchaseList,(function(a,e){return s(u["a"],{key:"location-"+e,attrs:{"two-line":""}},[a?[s(h["a"],[s(h["c"],[t._v(" "+t._s(a.location)+" ")]),s(h["b"],[t._v(" "+t._s(t.abbreviate(a.price))+" Credits ")])],1),s(P["a"],[s(i["a"],{attrs:{small:"",depressed:"",color:"primary",loading:t.loading||null==t.maxCredits,disabled:t.minimumPrice>t.maxCredits},on:{click:function(s){return t.purchaseShip(a.location)}}},[t._v(" Buy ")])],1)]:s(h["a"],[s(p["a"])],1)],2)})),1),s(n["a"],{staticClass:"pt-3"},[t.purchaseLocations.length>3?s(i["a"],{attrs:{text:""}},[t._v(" View All ")]):t._e(),s($["a"]),s(i["a"],{attrs:{text:""},on:{click:function(s){t.reveal=!1}}},[t._v(" Return ")])],1)],1):t._e()],1)],2):s(f["a"],{attrs:{type:"card-heading, list-item, list-item"}})},T=[],A=a("2db4");const R={"EM-MK-II":[[0,3,0,0],[0,4,0,0],[8,6,0,-7],[1,1,0,-5]],"EM-MK-III":[[5,3,0,0],[0,5,0,4],[7,6,0,-7],[2,1,0,0]],"GR-MK-I":[[2,1,0,0],[2,4,0,2],[13,0,0,0]],"GR-MK-II":[[5,1,0,0],[3,4,0,-2],[14,1,0,-5]],"GR-MK-III":[[4,5,0,4],[3,2,0,0],[15,0,0,2]],"JW-MK-I":[[2,4,0,0],[2,6,0,-6],[8,0,0,0]],"JW-MK-II":[[3,4,0,2],[1,6,0,-3],[3,6,0,-10],[7,0,0,0]],"ZA-MK-II":[[9,3,0,0],[2,5,0,-1],[13,0,0,-3]],"ZA-MK-III":[[8,3,0,-3],[2,5,0,1],[15,0,0,0]]};var j={mixins:[A["a"]],props:{ship:{type:Object},system:{type:String},location:{type:String},maxCredits:{type:Number}},data:()=>({SHIPS:R,reveal:!1,loading:!1}),computed:{purchaseLocations(){return this.ship.purchaseLocations.filter(t=>!(this.system&&!t.location.startsWith(this.system+"-"))&&!(this.location&&t.location!=this.location&&!t.location.endsWith("-"+this.location)))},minimumPrice(){return this.purchaseLocations.reduce((t,s)=>!t||s.price<t?s.price:t,null)},purchaseList(){return[null,null,null].map((t,s)=>s<this.purchaseLocations.length?this.purchaseLocations[s]:null)}},methods:{tile(t,s,a,e){return"background-position: "+32*-t+"px "+32*-s+"px; top:"+e+"px; left: "+a+"px"},async purchaseShip(t){this.loading=!0;try{await this.axios.post("/users/"+this.$store.state.username+"/ships",{type:this.ship.type,location:t}),await this.$store.dispatch("UPDATE_CREDITS")}catch(s){console.error(s)}this.reveal=!1,this.loading=!1}}},E=j,O=(a("7c53"),a("2877")),W=Object(O["a"])(E,K,T,!1,null,"1598a625",null),G=W.exports;const J={ELECTRUM:{info:"Specializing in quick, agile fighter crafts. 'Cause you've got a need for speed."},GRAVAGER:{info:"Take 'yer shit where 'yer shit need t' be took."},JACKSHAW:{info:"Spacecraft at affordable rates. (disclaimer: not responsible for spontneous combustion)"},ZETRA:{info:"Balanced spaceships at unbalanced prices."}};var D={components:{ShipPurchase:G},props:{system:{type:String},location:{type:String}},chimera:{ships(){return{key:this.$store.state.username+"-ships",url:"/game/ships",interval:6e4}}},computed:{manufacturers(){const t=[];let s=null;for(let e of[...this.ships.data.ships].sort((t,s)=>t.type.localeCompare(s.type))){if(s&&e.manufacturer!=s.name&&(t.push(s),s=null),null==s){var a;const t=e.manufacturer.toUpperCase();s={id:t,name:e.manufacturer,info:(null===(a=J[t])||void 0===a?void 0:a.info)||"No information has been ascertained on this manufacturer.",ships:[]}}s.ships.push(e)}return null!=s&&t.push(s),t}}},H=D,U=Object(O["a"])(H,I,S,!1,null,null,null),V=U.exports,N=a("b6d2"),Z={components:{Sun:g["a"],LocationImage:C["a"],Shipyard:V,ShipListItem:N["a"]},mixins:[b["a"]],chimera:{ships(){return{key:"user-"+this.$store.state.username+"-ships",url:"/users/"+this.$store.state.username+"/ships",interval:1e4}},system(){return{key:"system-"+this.$route.params.id,url:"/game/systems/"+this.$route.params.id}}},data:()=>({shipyard:{reveal:!1,error:null,loading:!1}}),computed:{shipLocations(){const t=this.system.data.system.locations.reduce((t,s)=>(t[s.symbol]=s,t),{}),s=[],a=[];let e=null;for(let i of[...this.ships.data.ships].sort((t,s)=>t.type.localeCompare(s.type)))if(i.location){if(e&&i.location!=e.symbol&&(s.push(e),e=null),null==e){const s=i.location;e={symbol:s,type:t[s].type,name:t[s].name,locations:t[s],ships:[]}}e.ships.push(i)}else a.push(i);return null!=e&&s.push(e),{inTransit:a,locations:s}}}},z=Z,B=(a("13a3"),Object(O["a"])(z,_,v,!1,null,null,null));s["default"]=B.exports},"5d35":function(t,s,a){},"7c53":function(t,s,a){"use strict";a("5d35")},fc85:function(t,s,a){"use strict";a.r(s);var e=a("0798"),i=a("8336"),r=a("b0af"),n=a("99d9"),o=a("62ad"),l=a("a523"),c=a("ce7e"),p=a("0fd9"),u=a("3129"),h=function(){var t=this,s=t._self._c;return s(l["a"],[t.systems.data?0==t.systems.data.systems.length?s(e["a"],{attrs:{type:"error"}},[t._v(" No systems could be found. ")]):t._l(t.systems.data.systems,(function(a,e){return s(r["a"],{key:"system-"+e,staticClass:"mb-4"},[s(n["b"],[s(p["a"],{attrs:{align:"center"}},[s(o["a"],{staticClass:"shrink"},[s("sun",{attrs:{scale:.3}})],1),s(o["a"],{staticClass:"pl-0 text-h5"},[t._v(" "+t._s(a.name)+" ")]),s(o["a"],{staticClass:"shrink"},[s(i["a"],{staticClass:"float-right",attrs:{depressed:"",color:"primary",to:"/systems/"+a.symbol}},[t._v(" View ")])],1)],1)],1),s(c["a"]),s(p["a"],{staticClass:"pa-5",attrs:{align:"center",justify:"space-around","no-gutters":""}},t._l(t.sortOrbits(a.locations),(function(a,i){return s(o["a"],{key:"location-"+e+"-"+i,staticClass:"text-center"},[s("location-image",{staticClass:"mx-auto",attrs:{location:a}}),s("div",{staticClass:"pt-4"},[s("small",[t._v(t._s(a.symbol))])])],1)})),1)],1)})):s("div",[s(u["a"],{staticClass:"mb-4",attrs:{type:"card-heading"}}),s(u["a"],{staticClass:"mb-4",attrs:{type:"card-heading"}})],1)],2)},d=[],m=a("031d"),y=a("96cb"),f=a("da57"),_={components:{Sun:y["a"],LocationImage:f["a"]},mixins:[m["a"]],chimera:{systems(){return{key:this.$store.state.username+"-systems",url:"/game/systems",interval:3e5}}}},v=_,b=a("2877"),g=Object(b["a"])(v,h,d,!1,null,null,null);s["default"]=g.exports}}]);
//# sourceMappingURL=systems.a7e40411.js.map