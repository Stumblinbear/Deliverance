(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["market-ships"],{e88b:function(t,e,a){"use strict";a.r(e);var s=a("0798"),i=a("b0af"),r=a("99d9"),l=a("62ad"),n=a("a523"),o=a("ce7e"),c=a("132d"),b=a("8860"),p=a("da13"),u=a("5d23"),y=a("490a"),h=a("0fd9"),d=function(){var t=this,e=t._self._c;return e(n["a"],[!t.ships.data||t.loading?e("div",{staticClass:"text-center pt-6"},[e(y["a"],{attrs:{color:"primary",indeterminate:"",size:"24",width:"2"}})],1):0==t.ships.data.ships.length||0==t.locations.length?e(s["a"],{attrs:{type:"error"}},[t._v(" You have no ships collecting market data. Do you have any, or are they all in transit? ")]):[t.bestTransactions.length>0?e(h["a"],t._l(t.bestTransactions,(function(a,s){return e(l["a"],{key:s,attrs:{cols:"12"}},[e(i["a"],[e(r["b"],[e(h["a"],{attrs:{"no-gutters":"",align:"center",justify:"space-around"}},[e(l["a"],[t._v(" "+t._s(t.prettifyEnum(a.symbol))+" ")]),e(l["a"],{staticClass:"text-center"},[e("div",{staticClass:"overline"},[t._v(t._s(a.buy.location.symbol))]),e("div",{staticClass:"overline"},[t._v(t._s(t.abbreviate(a.buy.pricePerUnit))+" Credits")])]),e(l["a"],{staticClass:"text-center"},[e(c["a"],[t._v("mdi-arrow-right")])],1),e(l["a"],{staticClass:"text-center"},[e("div",{staticClass:"overline"},[t._v(t._s(a.sell.location.symbol))]),e("div",{staticClass:"overline"},[t._v(t._s(t.abbreviate(a.sell.pricePerUnit))+" Credits")])]),e(l["a"],{staticClass:"text-center"},[e(c["a"],[t._v("mdi-equal")])],1),e(l["a"],{staticClass:"text-center"},[t._v(" +"+t._s(t.abbreviate(a.sell.pricePerUnit-a.buy.pricePerUnit))+" Credits "),e("br"),t._v(" (+"+t._s(((a.sell.pricePerUnit-a.buy.pricePerUnit)/a.buy.pricePerUnit*100).toFixed(0))+"%) ")])],1)],1)],1)],1)})),1):t._e(),e(h["a"],[e(l["a"],{attrs:{cols:"12",md:"6"}},[e(i["a"],[e(r["c"],{staticClass:"headline"},[t._v(" Best Buy ")]),e(o["a"]),e(b["a"],{attrs:{dense:""}},t._l(Object.entries(t.bestBuy),(function([a,s]){return e(p["a"],{key:a,attrs:{"two-line":""}},[e(u["a"],[e(u["c"],[t._v(" "+t._s(t.prettifyEnum(a))+" ")]),e(u["b"],[t._v(" "+t._s(t.abbreviate(s.quantityAvailable))+" Available at "+t._s(t.abbreviate(s.pricePerUnit))+" Credits each on "+t._s(s.location.symbol)+" ")])],1),e("location-image",{attrs:{location:s.location}})],1)})),1)],1)],1),e(l["a"],{attrs:{cols:"12",md:"6"}},[e(i["a"],[e(r["c"],{staticClass:"headline"},[t._v(" Best Sell ")]),e(o["a"]),e(b["a"],{attrs:{dense:""}},t._l(Object.entries(t.bestSell),(function([a,s]){return e(p["a"],{key:a,attrs:{"two-line":""}},[e(u["a"],[e(u["c"],[t._v(" "+t._s(t.prettifyEnum(a))+" ")]),e(u["b"],[t._v(" "+t._s(t.abbreviate(s.pricePerUnit))+" Credits each on "+t._s(s.location.symbol)+" ")])],1),e("location-image",{attrs:{location:s.location}})],1)})),1)],1)],1)],1)]],2)},m=[],v=(a("14d9"),a("da57")),_=a("2db4"),f={components:{LocationImage:v["a"]},mixins:[_["b"],_["a"]],chimera:{ships(){return{key:"user-"+this.$store.state.username+"-ships",url:"/users/"+this.$store.state.username+"/ships",interval:6e4}}},data:()=>({loading:!1,locations:[]}),computed:{bestBuy(){const t={};for(let e of this.locations)for(let a of e.marketplace)0!=a.quantityAvailable&&(t[a.symbol]&&t[a.symbol].pricePerUnit<a.pricePerUnit||(t[a.symbol]={location:{symbol:e.symbol,type:e.type},pricePerUnit:a.pricePerUnit,quantityAvailable:a.quantityAvailable}));return t},bestSell(){const t={};for(let e of this.locations)for(let a of e.marketplace)0!=a.quantityAvailable&&(t[a.symbol]&&t[a.symbol].pricePerUnit>a.pricePerUnit||(t[a.symbol]={location:{symbol:e.symbol,type:e.type},pricePerUnit:a.pricePerUnit,quantityAvailable:a.quantityAvailable}));return t},bestTransactions(){const t=[];for(let e in this.bestBuy)this.bestSell[e]&&this.bestBuy[e].pricePerUnit!=this.bestSell[e].pricePerUnit&&t.push({symbol:e,buy:this.bestBuy[e],sell:this.bestSell[e]});return t.sort((t,e)=>t.symbol.localeCompare(e.symbol)),t}},methods:{async refresh(){this.loading=!0,this.locations=[],await this.ships.reload();const t=new Set(this.ships.data.ships.filter(t=>t.location).map(t=>t.location));for(let e of t){const{data:t}=await this.axios.get("/game/locations/"+e+"/marketplace");this.locations.push(t.location)}this.loading=!1}},mounted(){this.refresh()}},P=f,U=a("2877"),C=Object(U["a"])(P,d,m,!1,null,null,null);e["default"]=C.exports}}]);
//# sourceMappingURL=market-ships.80be6142.js.map