(function(e){function t(t){for(var a,n,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,n=1;n<s.length;n++){var o=s[n];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=s[0]))}return e}var a={},n={app:0},r={app:0},i=[];function o(e){return c.p+"js/"+({home:"home","loans~market-ships~ships~systems":"loans~market-ships~ships~systems",loans:"loans","market-ships~ships~systems":"market-ships~ships~systems","market-ships":"market-ships","ships~systems":"ships~systems",ships:"ships",systems:"systems"}[e]||e)+"."+{home:"c4a93c4f","loans~market-ships~ships~systems":"4b2da872",loans:"dceb37e4","market-ships~ships~systems":"ec5969d4","market-ships":"d934cf00","ships~systems":"3f293e4f",ships:"3e8c5a96",systems:"2e5da4c3"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(e){var t=[],s={"loans~market-ships~ships~systems":1,loans:1,"market-ships~ships~systems":1,"ships~systems":1,systems:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=new Promise((function(t,s){for(var a="css/"+({home:"home","loans~market-ships~ships~systems":"loans~market-ships~ships~systems",loans:"loans","market-ships~ships~systems":"market-ships~ships~systems","market-ships":"market-ships","ships~systems":"ships~systems",ships:"ships",systems:"systems"}[e]||e)+"."+{home:"31d6cfe0","loans~market-ships~ships~systems":"8f8d2fa9",loans:"8689fec2","market-ships~ships~systems":"f8240b6e","market-ships":"31d6cfe0","ships~systems":"824908db",ships:"31d6cfe0",systems:"dfc26680"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return t()}var m=document.getElementsByTagName("style");for(o=0;o<m.length;o++){l=m[o],u=l.getAttribute("data-href");if(u===a||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete n[e],d.parentNode.removeChild(d),s(i)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){n[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,s){a=r[e]=[t,s]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var m=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var s=r[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",m.name="ChunkLoadError",m.type=a,m.request=n,s[1](m)}r[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(s,a,function(t){return e[t]}.bind(null,a));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var d=u;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";s("85ec")},"2db4":function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return n}));s("a15b"),s("d81d"),s("1276"),s("ac1f"),s("5319"),s("9129"),s("a9e3"),s("b680");var a={methods:{prettifyEnum:function(e){return e?e.replace("_"," ").split(" ").map((function(e){return e[0]+e.substring(1).toLowerCase()})).join(" "):"N/A"}}},n={methods:{abbreviate:function(e){if(void 0===e||null===e)return"N/A";if(Number.isNaN(e))return"NaN";var t="",s=e;return e>=1e12?(t=" T",s=e/1e12):e>=1e9?(t=" B",s=e/1e9):e>=1e6?(t=" M",s=e/1e6):e>=1e3&&(t="k",s=e/1e3),parseFloat(s.toFixed(2))+t}}}},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-dialog",{attrs:{value:e.status.error,persistent:"","max-width":"350"}},[s("v-card",[s("v-card-title",[e._v(" An error occured ")]),s("v-card-text",[e._v(" SpaceTraders API appears to be experiencing problems. ")]),s("v-card-text",[e._v(" "+e._s(e.status)+" ")])],1)],1),e.$store.state.username&&e.$store.state.token?[s("v-app-bar",{attrs:{dense:"",fixed:"",flat:""}},[s("v-app-bar-nav-icon",{staticClass:"d-flex d-md-none",on:{click:function(t){e.drawer=!e.drawer}}}),s("img",{staticClass:"logo logo-sm mr-5 d-none d-sm-flex",attrs:{src:"/assets/logo.png"}}),s("div",{staticClass:"d-none d-md-flex"},e._l(e.nav,(function(t,a){var n=t[0],r=t[1];return s("v-btn",{key:"bar-"+a,staticClass:"mr-2",attrs:{text:"",to:r}},[e._v(" "+e._s(n)+" ")])})),1),s("v-spacer"),e.$store.state.outstandingRequests>0?s("v-progress-circular",{staticClass:"mr-3",attrs:{color:"primary",indeterminate:"",size:"24",width:"2"}}):e._e(),s("v-chip",{attrs:{to:"/loans"}},[e._v(" "+e._s(e.abbreviate(e.$store.state.credits))+" Credits ")]),s("v-menu",{attrs:{"offset-y":"",rounded:"b-md"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"ml-3",attrs:{tile:"",color:"primary"}},"v-btn",n,!1),a),[e._v(" "+e._s(e.$store.state.username)+" ")])]}}])},[s("v-list",{staticClass:"py-0",attrs:{dense:"",tile:""}},[s("v-list-item",{on:{click:function(t){e.accountDialog=!0}}},[s("v-list-item-title",[e._v("View Account")])],1),s("v-divider"),e._l(e.$store.state.accounts.filter((function(t){return t[1]!=e.$store.state.token})),(function(t,a){return s("v-list-item",{key:a,on:{click:function(s){return e.$store.dispatch("SET_AUTH",t)}}},[s("v-list-item-title",[e._v(e._s(t[0]))])],1)})),e.$store.state.accounts.length>1?s("v-divider"):e._e(),s("v-list-item",{on:{click:function(t){return e.$store.dispatch("SET_AUTH",["",""])}}},[s("v-list-item-title",[e._v("Switch Account")])],1)],2)],1)],1),s("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-img",{staticClass:"bar-logo mx-auto my-3",attrs:{src:"/assets/logo.png"}}),s("v-divider",{staticClass:"mt-3"}),s("v-list",{attrs:{dense:"",nav:""}},e._l(e.nav,(function(t,a){var n=t[0],r=t[1];return s("v-list-item",{key:"bar-"+a,attrs:{link:"",to:r}},[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(n))])],1)],1)})),1)],1),s("v-main",[s("router-view")],1),s("v-dialog",{attrs:{width:"500",scrollable:""},model:{value:e.accountDialog,callback:function(t){e.accountDialog=t},expression:"accountDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v(" Account ")]),s("v-divider"),s("v-card-text",{staticClass:"pt-5"},[s("v-text-field",{attrs:{label:"Token",value:e.$store.state.token,readonly:"",outlined:"","hide-details":""}})],1)],1)],1)]:s("v-dialog",{attrs:{value:!0,persistent:"","max-width":"375"}},[s("login")],1)],2)},r=[],i=s("2db4"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!=e.tabs?s("v-card",[s("div",{staticClass:"py-5"},[s("img",{staticClass:"d-block logo logo-lg mx-auto",attrs:{src:"/assets/logo.png"}})]),s("v-divider"),s("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[s("v-tab",[e._v(" Switch ")]),s("v-tab",[e._v(" Import ")]),s("v-tab",[e._v(" Create ")])],1),s("v-divider"),e.error?s("v-alert",{staticClass:"mb-0",attrs:{type:"error",tile:""}},[e._v(" "+e._s(e.error)+" ")]):e._e(),s("v-tabs-items",{model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[s("v-tab-item",{attrs:{value:0}},[0==e.$store.state.accounts.length?s("v-alert",{staticClass:"mb-0 text-center"},[e._v(" No accounts have been added, yet. ")]):s("v-list",{staticClass:"py-0",attrs:{tile:""}},e._l(e.$store.state.accounts,(function(t,a){return s("v-list-item",{key:a,on:{click:function(s){return e.$store.dispatch("SET_AUTH",t)}}},[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t[0]))])],1),s("v-list-item-action",[s("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(s){return s.stopPropagation(),e.$store.dispatch("REMOVE_ACCOUNT",t)}}},[s("v-icon",[e._v("mdi-delete")])],1)],1)],1)})),1)],1),s("v-tab-item",{attrs:{value:1}},[s("div",{staticClass:"pa-5"},[s("v-text-field",{attrs:{label:"Username",disabled:e.loading,outlined:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{label:"API Token",disabled:e.loading,outlined:""},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}),s("v-btn",{attrs:{depressed:"",block:"",color:"primary",loading:e.loading},on:{click:function(t){return e.$store.dispatch("SET_AUTH",[e.username,e.token])}}},[e._v(" Set Username / Token ")])],1)]),s("v-tab-item",{attrs:{value:2}},[s("div",{staticClass:"pa-5"},[s("v-text-field",{attrs:{label:"Username",disabled:e.loading,outlined:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-btn",{attrs:{depressed:"",block:"",color:"primary",loading:e.loading},on:{click:e.createAccount}},[e._v(" Create Account ")])],1)])],1)],1):e._e()},c=[],l=s("1da1"),u=(s("96cf"),{data:function(){return{tabs:null,error:null,loading:!1,username:"",token:""}},methods:{createAccount:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.axios.post("/users/"+e.username+"/token");case 4:s=t.sent,e.$store.dispatch("SET_AUTH",[e.username,s.data.token]),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.error=t.t0.response.data.error.message;case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}},mounted:function(){this.tabs=this.$store.state.accounts.length>0?0:1}}),m=u,d=s("2877"),p=s("6544"),v=s.n(p),h=s("0798"),f=s("8336"),b=s("b0af"),g=s("ce7e"),y=s("132d"),k=s("8860"),_=s("da13"),T=s("1800"),C=s("5d23"),x=s("71a3"),S=s("c671"),w=s("fe57"),A=s("aac8"),V=s("8654"),E=Object(d["a"])(m,o,c,!1,null,null,null),O=E.exports;v()(E,{VAlert:h["a"],VBtn:f["a"],VCard:b["a"],VDivider:g["a"],VIcon:y["a"],VList:k["a"],VListItem:_["a"],VListItemAction:T["a"],VListItemContent:C["a"],VListItemTitle:C["c"],VTab:x["a"],VTabItem:S["a"],VTabs:w["a"],VTabsItems:A["a"],VTextField:V["a"]});var I={components:{Login:O},mixins:[i["a"]],chimera:{status:{key:"status",url:"/game/status",interval:6e4}},data:function(){return{drawer:!1,nav:[["Home","/"],["Ships","/ships"],["Systems","/systems"],["Market","/market"]],accountDialog:!1}}},N=I,U=(s("034f"),s("7496")),P=s("40dc"),D=s("5bc1"),$=s("99d9"),L=s("cc20"),j=s("169a"),R=s("adda"),M=s("f6c4"),H=s("e449"),B=s("f774"),q=s("490a"),F=s("2fa4"),J=Object(d["a"])(N,n,r,!1,null,null,null),z=J.exports;v()(J,{VApp:U["a"],VAppBar:P["a"],VAppBarNavIcon:D["a"],VBtn:f["a"],VCard:b["a"],VCardText:$["b"],VCardTitle:$["c"],VChip:L["a"],VDialog:j["a"],VDivider:g["a"],VImg:R["a"],VList:k["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemTitle:C["c"],VMain:M["a"],VMenu:H["a"],VNavigationDrawer:B["a"],VProgressCircular:q["a"],VSpacer:F["a"],VTextField:V["a"]});var K=s("f309");a["a"].use(K["a"]);var G=new K["a"]({theme:{dark:!0}}),Q=s("3835"),W=(s("c740"),s("2b3d"),s("d3b7"),s("3ca3"),s("ddb0"),s("841c"),s("ac1f"),s("2f62")),X=s("bc3a"),Y=s.n(X),Z=s("2106"),ee=s.n(Z),te=s("9fe4"),se=s.n(te),ae=se()(Y.a.create(),{maxRequests:10,perMilliseconds:1e4});a["a"].use(ee.a,ae);var ne=ae;a["a"].use(W["a"]);var re=new W["a"].Store({state:{outstandingRequests:0,accounts:[],username:"",token:"",credits:null,creditsTimeout:null},mutations:{},actions:{SET_ACCOUNTS:function(e,t){e.state.accounts=t},ADD_ACCOUNT:function(e,t){var s=Object(Q["a"])(t,2),a=s[0],n=s[1];e.state.accounts.push([a,n]),localStorage.setItem("accounts",JSON.stringify(e.state.accounts))},REMOVE_ACCOUNT:function(e,t){var s=Object(Q["a"])(t,2),n=s[0],r=s[1];a["a"].delete(e.state.accounts,e.state.accounts.findIndex((function(e){return e[0]==n&&e[1]==r}))),localStorage.setItem("accounts",JSON.stringify(e.state.accounts))},SET_AUTH:function(e,t){var s=Object(Q["a"])(t,2),a=s[0],n=s[1];ne.defaults.headers.common["Authorization"]="Bearer "+n,e.state.username=a,e.state.token=n,localStorage.setItem("username",a),localStorage.setItem("token",n),""==a||""==n||e.state.accounts.some((function(e){return e[0]==a&&e[1]==n}))||e.dispatch("ADD_ACCOUNT",[a,n]),e.dispatch("UPDATE_CREDITS")},UPDATE_CREDITS:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.state.creditsTimeout&&clearTimeout(e.state.creditsTimeout),!e.state.username||!e.state.token){t.next=7;break}return t.next=4,ne.get("/users/"+e.state.username);case 4:s=t.sent.data,e.state.credits=s.user.credits,e.state.creditsTimeout=setTimeout((function(){return e.dispatch("UPDATE_CREDITS")}),1e4);case 7:case"end":return t.stop()}}),t)})))()}}});function ie(){setTimeout((function(){re.state.outstandingRequests--}),500)}ne.defaults.baseURL=new URLSearchParams(window.location.search).get("url")||"https://api.spacetraders.io",localStorage.getItem("accounts")&&re.dispatch("SET_ACCOUNTS",JSON.parse(localStorage.getItem("accounts"))),localStorage.getItem("username")&&localStorage.getItem("token")&&re.dispatch("SET_AUTH",[localStorage.getItem("username"),localStorage.getItem("token")]),ne.interceptors.request.use((function(e){return re.state.outstandingRequests++,e})),ne.interceptors.response.use((function(e){return ie(),e}),(function(e){throw ie(),e})),ne.interceptors.response.use(null,(function(e){if(e.response&&401==e.response.status)return re.dispatch("REMOVE_ACCOUNT",[re.state.username,re.state.token]),void re.dispatch("SET_AUTH",["",""]);throw e}));var oe=re,ce=s("8c4f");a["a"].use(ce["a"]);var le=[{path:"/",name:"Home",component:function(){return s.e("home").then(s.bind(null,"bb51"))}},{path:"/systems",name:"System List",component:function(){return Promise.all([s.e("loans~market-ships~ships~systems"),s.e("market-ships~ships~systems"),s.e("ships~systems"),s.e("systems")]).then(s.bind(null,"fc85"))}},{path:"/systems/:id",name:"System View",component:function(){return Promise.all([s.e("loans~market-ships~ships~systems"),s.e("market-ships~ships~systems"),s.e("ships~systems"),s.e("systems")]).then(s.bind(null,"3c6b"))}},{path:"/ships",name:"Ships",component:function(){return Promise.all([s.e("loans~market-ships~ships~systems"),s.e("market-ships~ships~systems"),s.e("ships~systems"),s.e("ships")]).then(s.bind(null,"5d48"))}},{path:"/loans",name:"Loans",component:function(){return Promise.all([s.e("loans~market-ships~ships~systems"),s.e("loans")]).then(s.bind(null,"01d8"))}},{path:"/market",name:"Market",component:function(){return Promise.all([s.e("loans~market-ships~ships~systems"),s.e("market-ships~ships~systems"),s.e("market-ships")]).then(s.bind(null,"e88b"))}}],ue=new ce["a"]({base:"/",routes:le}),me=ue,de=s("4fd8");a["a"].use(de["b"],{axios:ne,cache:new de["a"](5e3),keepData:!0});var pe=s("8682");a["a"].use(pe["a"],{locale:"en"}),a["a"].config.productionTip=!1,new a["a"]({vuetify:G,store:oe,router:me,render:function(e){return e(z)}}).$mount("#app")},"85ec":function(e,t,s){}});
//# sourceMappingURL=app.0323971c.js.map