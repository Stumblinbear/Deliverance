{"version":3,"sources":["webpack:///./src/views/Ships.vue?ab42","webpack:///src/views/Ships.vue","webpack:///./src/views/Ships.vue?912c","webpack:///./src/views/Ships.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ships","error","systems","attrs","_v","_s","data","length","shipSystems","inTransit","staticClass","_l","ship","j","key","on","$event","reload","_e","system","i","name","symbol","locations","location","staticRenderFns","component","VAlert","VBtn","VCard","VCardText","VCol","VContainer","VDivider","VList","VListItem","VListItemAction","VListItemContent","VListItemTitle","VRow","VSkeletonLoader"],"mappings":"gHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAAEJ,EAAIM,MAAMC,OAASP,EAAIQ,QAAQD,MAAOH,EAAG,UAAU,CAACK,MAAM,CAAC,UAAY,GAAG,KAAO,UAAU,CAACT,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAIM,MAAMC,OAASP,EAAIQ,QAAQD,OAAO,OAAOH,EAAG,QAAQ,CAACK,MAAM,CAAC,QAAU,WAAW,CAAGT,EAAIM,MAAMM,MAASZ,EAAIQ,QAAQI,KAAkY,GAA/BZ,EAAIM,MAAMM,KAAKN,MAAMO,OAAaT,EAAG,QAAQ,CAACA,EAAG,UAAU,CAACJ,EAAIU,GAAG,yCAAyC,GAAG,CAAEV,EAAIc,YAAYC,UAAUF,OAAS,EAAGT,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACL,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACY,YAAY,YAAY,CAAChB,EAAIU,GAAG,iBAAiB,IAAI,GAAGN,EAAG,aAAaJ,EAAIiB,GAAIjB,EAAIc,YAAqB,WAAE,SAASI,EAAKC,GAAG,OAAOf,EAAG,iBAAiB,CAACgB,IAAI,aAAeD,EAAEV,MAAM,CAAC,KAAOS,EAAK,MAAQ,IAAIG,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOtB,EAAIM,MAAMiB,QAAO,WAAa,IAAI,IAAI,GAAGvB,EAAIwB,KAAKxB,EAAIiB,GAAIjB,EAAIc,YAAmB,SAAE,SAASW,EAAOC,GAAG,OAAOtB,EAAG,QAAQ,CAACgB,IAAI,UAAYM,EAAEjB,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACL,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAACY,YAAY,QAAQ,CAACZ,EAAG,MAAM,CAACK,MAAM,CAAC,MAAQ,QAAQ,GAAGL,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACY,YAAY,YAAY,CAAChB,EAAIU,GAAGV,EAAIW,GAAGc,EAAOE,UAAU,GAAGvB,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACK,MAAM,CAAC,MAAQ,GAAG,UAAY,GAAG,MAAQ,UAAU,GAAK,YAAcgB,EAAOG,SAAS,CAAC5B,EAAIU,GAAG,aAAa,IAAI,GAAGN,EAAG,aAAaJ,EAAIiB,GAAIQ,EAAY,OAAE,SAASP,EAAKC,GAAG,OAAOf,EAAG,iBAAiB,CAACgB,IAAI,UAAYM,EAAI,IAAMP,EAAEV,MAAM,CAAC,KAAOS,EAAK,SAAWO,EAAOI,UAAUX,EAAKY,UAAU,MAAQ,IAAIT,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOtB,EAAIM,MAAMiB,QAAO,WAAa,IAAI,IAAI,OAAjpDnB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACL,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,oBAAoB,CAACK,MAAM,CAAC,KAAO,cAAc,GAAGL,EAAG,mBAAmB,IAAI,GAAGA,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACL,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,oBAAoB,CAACK,MAAM,CAAC,KAAO,cAAc,GAAGL,EAAG,mBAAmB,IAAI,IAAI,IAAI,IAA+zC,IAAI,IACt/D2B,EAAkB,G,0FC+FtB,GACE,WAAF,CAAI,IAAJ,OAAI,aAAJ,QACE,QAAF,CACI,MADJ,WAEM,MAAN,CACQ,IAAR,4CACQ,IAAR,8CACQ,SAAR,MAGI,QARJ,WASM,MAAN,CACQ,IAAR,sCACQ,IAAR,mBAIE,SAAF,CACI,YADJ,WAEM,IADI,EACV,kDAEQ,OADA,EAAR,YACA,IACA,IAEA,KAEA,KAEA,OAVA,iBAWA,0DAAQ,OAAR,yCAXM,IAWE,IAAR,wBAAU,IAAV,UACU,GAAV,WAAU,CAUA,GALV,wCACY,EAAZ,QACY,EAAZ,MAGA,SACY,IAAZ,2BAEY,EAAZ,CACc,OAAd,EACc,KAAd,UACc,UAAd,qCAEgB,OADA,EAAhB,YACA,IACA,IACc,MAAd,IAIU,EAAV,mBAvBY,EAAZ,SAbA,SAAQ,EAAR,aAAQ,EAAR,IA2CM,OAJN,SACQ,EAAR,QAGA,CACQ,UAAR,EACQ,QAAR,MC/J+U,I,6LCO3UC,EAAY,eACd,EACAjC,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAC,EAAiB,QAkBhC,IAAkBA,EAAW,CAACC,SAAA,KAAOC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,OAAA,KAAKC,aAAA,KAAWC,WAAA,KAASC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAA,OAAiBC,eAAA,OAAeC,OAAA,KAAKC,kBAAA","file":"js/ships.3e8c5a96.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(_vm.ships.error || _vm.systems.error)?_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.ships.error || _vm.systems.error)+\" \")]):_c('v-row',{attrs:{\"justify\":\"center\"}},[(!_vm.ships.data || !_vm.systems.data)?_c('v-col',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1),_c('ship-list-item')],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1),_c('ship-list-item')],1)],1)],1)],1):(_vm.ships.data.ships.length == 0)?_c('v-col',[_c('v-alert',[_vm._v(\" You have no ships in your fleet. \")])],1):[(_vm.shipSystems.inTransit.length > 0)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(\"In Transit\")])],1)],1),_c('v-divider'),_vm._l((_vm.shipSystems.inTransit),function(ship,j){return _c('ship-list-item',{key:'intransit-' + j,attrs:{\"ship\":ship,\"dense\":\"\"},on:{\"refresh\":function($event){return _vm.ships.reload(true)}}})})],2)],1)],1):_vm._e(),_vm._l((_vm.shipSystems.systems),function(system,i){return _c('v-col',{key:'system-' + i,attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('div',{staticClass:\"mr-4\"},[_c('sun',{attrs:{\"scale\":.27}})],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(_vm._s(system.name))])],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"to\":'/systems/' + system.symbol}},[_vm._v(\" View \")])],1)],1),_c('v-divider'),_vm._l((system.ships),function(ship,j){return _c('ship-list-item',{key:'system-' + i + '-' + j,attrs:{\"ship\":ship,\"location\":system.locations[ship.location],\"dense\":\"\"},on:{\"refresh\":function($event){return _vm.ships.reload(true)}}})})],2)],1)],1)})]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n        <v-alert v-if=\"ships.error || systems.error\"\n                prominent type=\"error\">\n            {{ ships.error || systems.error }}\n        </v-alert>\n        <v-row v-else\n                justify=\"center\">\n            <v-col v-if=\"!ships.data || !systems.data\">\n                <v-row>\n                    <v-col cols=\"12\" md=\"6\">\n                        <v-card>\n                            <v-card-text>\n                                <v-skeleton-loader type=\"heading\" />\n                            </v-card-text>\n\n                            <ship-list-item />\n                        </v-card>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"6\">\n                        <v-card>\n                            <v-card-text>\n                                <v-skeleton-loader type=\"heading\" />\n                            </v-card-text>\n\n                            <ship-list-item />\n                        </v-card>\n                    </v-col>\n                </v-row>\n            </v-col>\n            <v-col v-else-if=\"ships.data.ships.length == 0\">\n                <v-alert>\n                    You have no ships in your fleet.\n                </v-alert>\n            </v-col>\n            <template v-else>\n                <v-col v-if=\"shipSystems.inTransit.length > 0\"\n                        cols=\"12\" md=\"6\">\n                    <v-card>\n                        <v-list>\n                            <v-list-item>\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"headline\">In Transit</v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n\n                            <v-divider />\n\n                            <ship-list-item\n                                v-for=\"(ship, j) in shipSystems.inTransit\" :key=\"'intransit-' + j\"\n                                :ship=\"ship\"\n                                dense\n                                @refresh=\"ships.reload(true)\" />\n                        </v-list>\n                    </v-card>\n                </v-col>\n\n                <v-col\n                        v-for=\"(system, i) in shipSystems.systems\" :key=\"'system-' + i\"\n                        cols=\"12\" md=\"6\">\n                    <v-card>\n                        <v-list>\n                            <v-list-item>\n                                <div class=\"mr-4\">\n                                    <sun :scale=\".27\" />\n                                </div>\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"headline\">{{ system.name }}</v-list-item-title>\n                                </v-list-item-content>\n                                <v-list-item-action>\n                                    <v-btn small depressed color=\"primary\" :to=\"'/systems/' + system.symbol\">\n                                        View\n                                    </v-btn>\n                                </v-list-item-action>\n                            </v-list-item>\n\n                            <v-divider />\n\n                            <ship-list-item\n                                v-for=\"(ship, j) in system.ships\" :key=\"'system-' + i + '-' + j\"\n                                :ship=\"ship\"\n                                :location=\"system.locations[ship.location]\"\n                                dense\n                                @refresh=\"ships.reload(true)\" />\n                        </v-list>\n                    </v-card>\n                </v-col>\n            </template>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\n    import Sun from '@/components/locations/Sun.vue';\n    import ShipListItem from '@/components/ShipListItem.vue';\n\n    export default {\n        components: { Sun, ShipListItem },\n        chimera: {\n            ships() {\n                return {\n                    key: 'user-' + this.$store.state.username + '-ships',\n                    url: '/users/' + this.$store.state.username + '/ships',\n                    interval: 1000 * 30\n                }\n            },\n            systems() {\n                return {\n                    key: this.$store.state.username + '-systems',\n                    url: '/game/systems'\n                }\n            }\n        },\n        computed: {\n            shipSystems() {\n                const systemMap = this.systems.data.systems.reduce((acc, system) => {\n                    acc[system.symbol] = system;\n                    return acc;\n                }, { });\n\n                const systems = [];\n\n                const inTransit = [];\n\n                let system = null;\n                for(let ship of [ ...this.ships.data.ships ].sort((a, b) => a.location.localeCompare(b.location))) {\n                    if(!ship.location) {\n                        inTransit.push(ship);\n                        continue;\n                    }\n\n                    if(system && ship.location.split('-')[0] != system.symbol) {\n                        systems.push(system);\n                        system = null;\n                    }\n\n                    if(system == null) {\n                        const symbol = ship.location.split('-')[0];\n\n                        system = {\n                            symbol,\n                            name: systemMap[symbol].name,\n                            locations: systemMap[symbol].locations.reduce((acc, location) => {\n                                acc[location.symbol] = location;\n                                return acc;\n                            }, { }),\n                            ships: [ ]\n                        };\n                    }\n\n                    system.ships.push(ship);\n                }\n\n                if(system != null) {\n                    systems.push(system);\n                }\n\n                return {\n                    inTransit,\n                    systems\n                };\n            }\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ships.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ships.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ships.vue?vue&type=template&id=a4c63364&\"\nimport script from \"./Ships.vue?vue&type=script&lang=js&\"\nexport * from \"./Ships.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCol,VContainer,VDivider,VList,VListItem,VListItemAction,VListItemContent,VListItemTitle,VRow,VSkeletonLoader})\n"],"sourceRoot":""}