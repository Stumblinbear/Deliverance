(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["systems"],{"0b8d":function(t,e,s){},"3c55":function(t,e,s){"use strict";s("0b8d")},"3c6b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.system.data?s("div",[s("v-sheet",{staticClass:"mb-5",attrs:{rounded:"",color:"black"}},[s("v-row",{staticClass:"system-view",attrs:{align:"center",justify:"space-around","no-gutters":""}},[s("sun"),t._l(t.sortOrbits(t.system.data.system.locations),(function(e,a){return s("v-col",{key:"location-"+a,staticClass:"text-center"},[s("location-image",{staticClass:"mx-auto",attrs:{location:e}}),s("div",{staticClass:"pt-4"},[s("small",[t._v(t._s(e.name))]),s("br"),s("small",[t._v(t._s(parseFloat(t.getDistance(e).toFixed(1)))+" DU")])])],1)}))],2)],1),s("v-container",[s("v-row",{attrs:{align:"center"}},[s("v-col",{staticClass:"text-h3 text-center text-sm-left",attrs:{cols:"12",sm:"9"}},[t._v(" "+t._s(t.system.data.system.name)+" ")]),s("v-col",{attrs:{cols:"12",sm:"3"}},[s("v-btn",{attrs:{depressed:"",block:"",color:"primary"},on:{click:function(e){t.shipyard.reveal=!0}}},[t._v(" View Shipyard ")])],1)],1),s("v-row",{attrs:{justify:"center"}},[t.ships.data?0==t.ships.data.ships.length?s("v-col",[s("v-alert",[t._v(" You have no ships in this system. ")])],1):[t.shipLocations.inTransit.length>0?s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-card",[s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",{staticClass:"headline"},[t._v("In Transit")])],1)],1),s("v-divider"),t._l(t.shipLocations.inTransit,(function(e,a){return s("ship-list-item",{key:"intransit-"+a,attrs:{ship:e},on:{refresh:function(e){return t.ships.reload(!0)}}})}))],2)],1):t._e(),t._l(t.shipLocations.locations,(function(e,a){return s("v-col",{key:"location-"+a,attrs:{cols:"12",md:"6"}},[s("v-card",[t.system.data.system?s("v-list-item",{attrs:{"two-line":""}},[s("v-list-item-content",[s("v-list-item-title",{staticClass:"headline"},[t._v(t._s(e.name))]),s("v-list-item-subtitle",[t._v(t._s(e.symbol))])],1),s("location-image",{attrs:{location:e}})],1):t._e(),s("v-divider"),t._l(e.ships,(function(i,r){return s("ship-list-item",{key:"location-"+a+"-"+r,attrs:{ship:i,location:e},on:{refresh:function(e){return t.ships.reload(!0)}}})}))],2)],1)}))]:s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-card",[s("v-card-text",[s("v-skeleton-loader",{attrs:{type:"heading"}})],1),s("ship-list-item")],1)],1),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-card",[s("v-card-text",[s("v-skeleton-loader",{attrs:{type:"heading"}})],1),s("ship-list-item")],1)],1)],1)],1)],2)],1),s("v-dialog",{attrs:{width:"800",scrollable:""},model:{value:t.shipyard.reveal,callback:function(e){t.$set(t.shipyard,"reveal",e)},expression:"shipyard.reveal"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(" Shipyard ")]),s("v-divider"),t.shipyard.loading?s("v-card-text",{staticClass:"text-center pt-6"},[s("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"24",width:"2"}})],1):[t.shipyard.error?s("v-alert",{staticClass:"mb-0",attrs:{type:"error",tile:""}},[t._v(" "+t._s(t.shipyard.error)+" ")]):t._e(),s("v-card-text",[s("shipyard",{attrs:{system:t.$route.params.id},on:{refresh:function(e){return t.ships.reload(!0)}}})],1)]],2)],1)],1):s("div",[s("v-skeleton-loader",{attrs:{type:"image"}}),s("v-container",[s("v-skeleton-loader",{staticClass:"mt-4",attrs:{type:"heading"}})],1)],1)},i=[],r=s("2909"),n=s("b85c"),o=(s("13d5"),s("b0c0"),s("031d")),l=s("96cb"),c=s("da57"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.ships.error?s("v-alert",{attrs:{prominent:"",type:"error"}},[t._v(" "+t._s(t.ships)+" ")]):s("v-row",[t.ships.data?0==t.ships.data.ships.length?s("v-col",[s("v-alert",{attrs:{type:"warning"}},[t._v(" There are no ships available for purchase. ")])],1):s("v-col",t._l(t.manufacturers,(function(e,a){return s("v-row",{key:"manufacturer-"+a},[s("v-col",{attrs:{cols:"12"}},[s("v-list-item",[s("v-list-item-avatar",{attrs:{rounded:"0"}},[s("v-img",{attrs:{src:"/assets/manufacturers/"+e.name.toLowerCase()+".png"}})],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.name))]),s("v-list-item-subtitle",[t._v(t._s(e.info))])],1)],1)],1),t._l(e.ships,(function(e){return s("v-col",{key:e.type,attrs:{cols:"12",sm:"6",xl:"4"}},[s("ship-purchase",{attrs:{ship:e,system:t.system,location:t.location,"max-credits":t.$store.state.credits}})],1)}))],2)})),1):s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-list-item",[s("v-list-item-avatar",[s("v-skeleton-loader",{attrs:{type:"avatar"}})],1),s("v-list-item-content",[s("v-skeleton-loader",{attrs:{type:"heading"}})],1)],1)],1),t._l(4,(function(t){return s("v-col",{key:t,attrs:{cols:"12",sm:"6",md:"4"}},[s("ship-purchase")],1)}))],2)],1)],1)},d=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.ship?s("v-card",{staticClass:"fill-height",attrs:{outlined:""}},[s("v-card-text",{staticClass:"pb-0"},[s("v-row",{attrs:{align:"center"}},[s("v-col",{staticClass:"shrink"},[t.SHIPS[t.ship.type]?s("div",{staticClass:"ship-img"},t._l(t.SHIPS[t.ship.type],(function(e,a){return s("div",{key:"part-"+a,staticClass:"ship-part",style:t.tile.apply(void 0,e)})})),0):t._e()]),s("v-col",[t._v(" "+t._s(t.ship.type)+" ")]),s("v-col",{staticClass:"text-right"},[s("v-chip",{attrs:{small:"",label:""}},[t._v(" "+t._s(t.ship.manufacturer)+" ")])],1)],1)],1),s("v-list-item",[s("div",[t._v("Speed")]),s("v-divider",{staticClass:"mx-3"}),t._l(t.ship.speed,(function(t){return s("span",{key:"speed-"+t,staticClass:"pa-2 mr-1 primary rounded-circle d-inline-block"})})),t.ship.speed<3?t._l(3-t.ship.speed,(function(e){return s("span",{key:"speed-"+(t.ship.speed+e),staticClass:"pa-2 mr-1 grey rounded-circle d-inline-block"})})):t._e()],2),t._l([["Max Cargo","maxCargo"],["Plating","plating"],["Weapons","weapons"]],(function(e){var a=e[0],i=e[1];return s("v-list-item",{key:i},[s("div",[t._v(t._s(a))]),s("v-divider",{staticClass:"mx-3"}),s("v-chip",{attrs:{small:"",label:""}},[t._v(" "+t._s(t.ship[i])+" ")])],1)})),s("v-card-actions",[s("v-chip",[t._v(" "+t._s(t.abbreviate(t.minimumPrice))+" Credits ")]),s("v-divider",{staticClass:"ml-2 mr-5"}),s("v-btn",{attrs:{depressed:"",color:"primary",loading:t.loading||null==t.maxCredits,disabled:t.minimumPrice>t.maxCredits},on:{click:function(e){t.reveal=!0}}},[t._v(" Purchase ")])],1),s("v-expand-transition",[t.reveal?s("v-card",{staticClass:"transition-fast-in-fast-out v-card--reveal",staticStyle:{height:"calc(100% - 56px)"}},[s("v-list",{staticClass:"py-0",attrs:{dense:""}},t._l(t.purchaseList,(function(e,a){return s("v-list-item",{key:"location-"+a,attrs:{"two-line":""}},[e?[s("v-list-item-content",[s("v-list-item-title",[t._v(" "+t._s(e.location)+" ")]),s("v-list-item-subtitle",[t._v(" "+t._s(t.abbreviate(e.price))+" Credits ")])],1),s("v-list-item-action",[s("v-btn",{attrs:{small:"",depressed:"",color:"primary",loading:t.loading||null==t.maxCredits,disabled:t.minimumPrice>t.maxCredits},on:{click:function(s){return t.purchaseShip(e.location)}}},[t._v(" Buy ")])],1)]:s("v-list-item-content",[s("v-divider")],1)],2)})),1),s("v-card-actions",{staticClass:"pt-3"},[t.purchaseLocations.length>3?s("v-btn",{attrs:{text:""}},[t._v(" View All ")]):t._e(),s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(e){t.reveal=!1}}},[t._v(" Return ")])],1)],1):t._e()],1)],2):s("v-skeleton-loader",{attrs:{type:"card-heading, list-item, list-item"}})},v=[],m=s("1da1"),h=(s("96cf"),s("a9e3"),s("4de4"),s("2ca0"),s("8a79"),s("d81d"),s("2db4")),y={"EM-MK-II":[[0,3,0,0],[0,4,0,0],[8,6,0,-7],[1,1,0,-5]],"EM-MK-III":[[5,3,0,0],[0,5,0,4],[7,6,0,-7],[2,1,0,0]],"GR-MK-I":[[2,1,0,0],[2,4,0,2],[13,0,0,0]],"GR-MK-II":[[5,1,0,0],[3,4,0,-2],[14,1,0,-5]],"GR-MK-III":[[4,5,0,4],[3,2,0,0],[15,0,0,2]],"JW-MK-I":[[2,4,0,0],[2,6,0,-6],[8,0,0,0]],"JW-MK-II":[[3,4,0,2],[1,6,0,-3],[3,6,0,-10],[7,0,0,0]],"ZA-MK-II":[[9,3,0,0],[2,5,0,-1],[13,0,0,-3]],"ZA-MK-III":[[8,3,0,-3],[2,5,0,1],[15,0,0,0]]},f={mixins:[h["a"]],props:{ship:{type:Object},system:{type:String},location:{type:String},maxCredits:{type:Number}},data:function(){return{SHIPS:y,reveal:!1,loading:!1}},computed:{purchaseLocations:function(){var t=this;return this.ship.purchaseLocations.filter((function(e){return!(t.system&&!e.location.startsWith(t.system+"-"))&&!(t.location&&e.location!=t.location&&!e.location.endsWith("-"+t.location))}))},minimumPrice:function(){return this.purchaseLocations.reduce((function(t,e){return!t||e.price<t?e.price:t}),null)},purchaseList:function(){var t=this;return[null,null,null].map((function(e,s){return s<t.purchaseLocations.length?t.purchaseLocations[s]:null}))}},methods:{tile:function(t,e,s,a){return"background-position: "+32*-t+"px "+32*-e+"px; top:"+a+"px; left: "+s+"px"},purchaseShip:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.loading=!0,s.prev=1,s.next=4,e.axios.post("/users/"+e.$store.state.username+"/ships",{type:e.ship.type,location:t});case 4:return s.next=6,e.$store.dispatch("UPDATE_CREDITS");case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](1),console.error(s.t0);case 11:e.reveal=!1,e.loading=!1;case 13:case"end":return s.stop()}}),s,null,[[1,8]])})))()}}},b=f,_=(s("dc38"),s("2877")),C=s("6544"),g=s.n(C),V=s("8336"),x=s("b0af"),k=s("99d9"),I=s("cc20"),L=s("62ad"),w=s("ce7e"),S=s("0789"),T=s("8860"),A=s("da13"),R=s("1800"),$=s("5d23"),j=s("0fd9"),E=s("3129"),M=s("2fa4"),O=Object(_["a"])(b,p,v,!1,null,"1598a625",null),P=O.exports;g()(O,{VBtn:V["a"],VCard:x["a"],VCardActions:k["a"],VCardText:k["b"],VChip:I["a"],VCol:L["a"],VDivider:w["a"],VExpandTransition:S["a"],VList:T["a"],VListItem:A["a"],VListItemAction:R["a"],VListItemContent:$["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VRow:j["a"],VSkeletonLoader:E["a"],VSpacer:M["a"]});var K={ELECTRUM:{info:"Specializing in quick, agile fighter crafts. 'Cause you've got a need for speed."},GRAVAGER:{info:"Take 'yer shit where 'yer shit need t' be took."},JACKSHAW:{info:"Spacecraft at affordable rates. (disclaimer: not responsible for spontneous combustion)"},ZETRA:{info:"Balanced spaceships at unbalanced prices."}},D={components:{ShipPurchase:P},props:{system:{type:String},location:{type:String}},chimera:{ships:function(){return{key:this.$store.state.username+"-ships",url:"/game/ships",interval:6e4}}},computed:{manufacturers:function(){var t,e=[],s=null,a=Object(n["a"])(Object(r["a"])(this.ships.data.ships).sort((function(t,e){return t.type.localeCompare(e.type)})));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(s&&i.manufacturer!=s.name&&(e.push(s),s=null),null==s){var o,l=i.manufacturer.toUpperCase();s={id:l,name:i.manufacturer,info:(null===(o=K[l])||void 0===o?void 0:o.info)||"No information has been ascertained on this manufacturer.",ships:[]}}s.ships.push(i)}}catch(c){a.e(c)}finally{a.f()}return null!=s&&e.push(s),e}}},W=D,B=s("0798"),G=s("adda"),J=s("8270"),H=Object(_["a"])(W,u,d,!1,null,null,null),U=H.exports;g()(H,{VAlert:B["a"],VCol:L["a"],VImg:G["a"],VListItem:A["a"],VListItemAvatar:J["a"],VListItemContent:$["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VRow:j["a"],VSkeletonLoader:E["a"]});var N=s("b6d2"),Z={components:{Sun:l["a"],LocationImage:c["a"],Shipyard:U,ShipListItem:N["a"]},mixins:[o["a"]],chimera:{ships:function(){return{key:"user-"+this.$store.state.username+"-ships",url:"/users/"+this.$store.state.username+"/ships",interval:1e4}},system:function(){return{key:"system-"+this.$route.params.id,url:"/game/systems/"+this.$route.params.id}}},data:function(){return{shipyard:{reveal:!1,error:null,loading:!1}}},computed:{shipLocations:function(){var t,e=this.system.data.system.locations.reduce((function(t,e){return t[e.symbol]=e,t}),{}),s=[],a=[],i=null,o=Object(n["a"])(Object(r["a"])(this.ships.data.ships).sort((function(t,e){return t.type.localeCompare(e.type)})));try{for(o.s();!(t=o.n()).done;){var l=t.value;if(l.location){if(i&&l.location!=i.symbol&&(s.push(i),i=null),null==i){var c=l.location;i={symbol:c,type:e[c].type,name:e[c].name,locations:e[c],ships:[]}}i.ships.push(l)}else a.push(l)}}catch(u){o.e(u)}finally{o.f()}return null!=i&&s.push(i),{inTransit:a,locations:s}}}},z=Z,F=(s("3c55"),s("a523")),q=s("169a"),Y=s("490a"),Q=s("8dd9"),X=Object(_["a"])(z,a,i,!1,null,null,null);e["default"]=X.exports;g()(X,{VAlert:B["a"],VBtn:V["a"],VCard:x["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:L["a"],VContainer:F["a"],VDialog:q["a"],VDivider:w["a"],VListItem:A["a"],VListItemContent:$["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VProgressCircular:Y["a"],VRow:j["a"],VSheet:Q["a"],VSkeletonLoader:E["a"]})},4606:function(t,e,s){},dc38:function(t,e,s){"use strict";s("4606")},fc85:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.systems.data?0==t.systems.data.systems.length?s("v-alert",{attrs:{type:"error"}},[t._v(" No systems could be found. ")]):t._l(t.systems.data.systems,(function(e,a){return s("v-card",{key:"system-"+a,staticClass:"mb-4"},[s("v-card-text",[s("v-row",{attrs:{align:"center"}},[s("v-col",{staticClass:"shrink"},[s("sun",{attrs:{scale:.3}})],1),s("v-col",{staticClass:"pl-0 text-h5"},[t._v(" "+t._s(e.name)+" ")]),s("v-col",{staticClass:"shrink"},[s("v-btn",{staticClass:"float-right",attrs:{depressed:"",color:"primary",to:"/systems/"+e.symbol}},[t._v(" View ")])],1)],1)],1),s("v-divider"),s("v-row",{staticClass:"pa-5",attrs:{align:"center",justify:"space-around","no-gutters":""}},t._l(t.sortOrbits(e.locations),(function(e,i){return s("v-col",{key:"location-"+a+"-"+i,staticClass:"text-center"},[s("location-image",{staticClass:"mx-auto",attrs:{location:e}}),s("div",{staticClass:"pt-4"},[s("small",[t._v(t._s(e.symbol))])])],1)})),1)],1)})):s("div",[s("v-skeleton-loader",{staticClass:"mb-4",attrs:{type:"card-heading"}}),s("v-skeleton-loader",{staticClass:"mb-4",attrs:{type:"card-heading"}})],1)],2)},i=[],r=s("031d"),n=s("96cb"),o=s("da57"),l={components:{Sun:n["a"],LocationImage:o["a"]},mixins:[r["a"]],chimera:{systems:function(){return{key:this.$store.state.username+"-systems",url:"/game/systems",interval:3e5}}}},c=l,u=s("2877"),d=s("6544"),p=s.n(d),v=s("0798"),m=s("8336"),h=s("b0af"),y=s("99d9"),f=s("62ad"),b=s("a523"),_=s("ce7e"),C=s("0fd9"),g=s("3129"),V=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=V.exports;p()(V,{VAlert:v["a"],VBtn:m["a"],VCard:h["a"],VCardText:y["b"],VCol:f["a"],VContainer:b["a"],VDivider:_["a"],VRow:C["a"],VSkeletonLoader:g["a"]})}}]);
//# sourceMappingURL=systems.2e5da4c3.js.map