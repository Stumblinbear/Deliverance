(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["market-ships"],{6062:function(t,e,i){"use strict";var a=i("6d61"),s=i("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},e88b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[!t.ships.data||t.loading?i("div",{staticClass:"text-center pt-6"},[i("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"24",width:"2"}})],1):0==t.ships.data.ships.length||0==t.locations.length?i("v-alert",{attrs:{type:"error"}},[t._v(" You have no ships collecting market data. Do you have any, or are they all in transit? ")]):[t.bestTransactions.length>0?i("v-row",t._l(t.bestTransactions,(function(e,a){return i("v-col",{key:a,attrs:{cols:"12"}},[i("v-card",[i("v-card-text",[i("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-around"}},[i("v-col",[t._v(" "+t._s(t.prettifyEnum(e.symbol))+" ")]),i("v-col",{staticClass:"text-center"},[i("div",{staticClass:"overline"},[t._v(t._s(e.buy.location.symbol))]),i("div",{staticClass:"overline"},[t._v(t._s(t.abbreviate(e.buy.pricePerUnit))+" Credits")])]),i("v-col",{staticClass:"text-center"},[i("v-icon",[t._v("mdi-arrow-right")])],1),i("v-col",{staticClass:"text-center"},[i("div",{staticClass:"overline"},[t._v(t._s(e.sell.location.symbol))]),i("div",{staticClass:"overline"},[t._v(t._s(t.abbreviate(e.sell.pricePerUnit))+" Credits")])]),i("v-col",{staticClass:"text-center"},[i("v-icon",[t._v("mdi-equal")])],1),i("v-col",{staticClass:"text-center"},[t._v(" +"+t._s(t.abbreviate(e.sell.pricePerUnit-e.buy.pricePerUnit))+" Credits "),i("br"),t._v(" (+"+t._s(((e.sell.pricePerUnit-e.buy.pricePerUnit)/e.buy.pricePerUnit*100).toFixed(0))+"%) ")])],1)],1)],1)],1)})),1):t._e(),i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v(" Best Buy ")]),i("v-divider"),i("v-list",{attrs:{dense:""}},t._l(Object.entries(t.bestBuy),(function(e){var a=e[0],s=e[1];return i("v-list-item",{key:a,attrs:{"two-line":""}},[i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(t.prettifyEnum(a))+" ")]),i("v-list-item-subtitle",[t._v(" "+t._s(t.abbreviate(s.quantityAvailable))+" Available at "+t._s(t.abbreviate(s.pricePerUnit))+" Credits each on "+t._s(s.location.symbol)+" ")])],1),i("location-image",{attrs:{location:s.location}})],1)})),1)],1)],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v(" Best Sell ")]),i("v-divider"),i("v-list",{attrs:{dense:""}},t._l(Object.entries(t.bestSell),(function(e){var a=e[0],s=e[1];return i("v-list-item",{key:a,attrs:{"two-line":""}},[i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(t.prettifyEnum(a))+" ")]),i("v-list-item-subtitle",[t._v(" "+t._s(t.abbreviate(s.pricePerUnit))+" Credits each on "+t._s(s.location.symbol)+" ")])],1),i("location-image",{attrs:{location:s.location}})],1)})),1)],1)],1)],1)]],2)},s=[],r=i("1da1"),n=i("b85c"),l=(i("96cf"),i("6062"),i("d3b7"),i("3ca3"),i("ddb0"),i("d81d"),i("4de4"),i("da57")),o=i("2db4"),c={components:{LocationImage:l["a"]},mixins:[o["b"],o["a"]],chimera:{ships:function(){return{key:"user-"+this.$store.state.username+"-ships",url:"/users/"+this.$store.state.username+"/ships",interval:6e4}}},data:function(){return{loading:!1,locations:[]}},computed:{bestBuy:function(){var t,e={},i=Object(n["a"])(this.locations);try{for(i.s();!(t=i.n()).done;){var a,s=t.value,r=Object(n["a"])(s.marketplace);try{for(r.s();!(a=r.n()).done;){var l=a.value;0!=l.quantityAvailable&&(e[l.symbol]&&e[l.symbol].pricePerUnit<l.pricePerUnit||(e[l.symbol]={location:{symbol:s.symbol,type:s.type},pricePerUnit:l.pricePerUnit,quantityAvailable:l.quantityAvailable}))}}catch(o){r.e(o)}finally{r.f()}}}catch(o){i.e(o)}finally{i.f()}return e},bestSell:function(){var t,e={},i=Object(n["a"])(this.locations);try{for(i.s();!(t=i.n()).done;){var a,s=t.value,r=Object(n["a"])(s.marketplace);try{for(r.s();!(a=r.n()).done;){var l=a.value;0!=l.quantityAvailable&&(e[l.symbol]&&e[l.symbol].pricePerUnit>l.pricePerUnit||(e[l.symbol]={location:{symbol:s.symbol,type:s.type},pricePerUnit:l.pricePerUnit,quantityAvailable:l.quantityAvailable}))}}catch(o){r.e(o)}finally{r.f()}}}catch(o){i.e(o)}finally{i.f()}return e},bestTransactions:function(){var t=[];for(var e in this.bestBuy)this.bestSell[e]&&this.bestBuy[e].pricePerUnit!=this.bestSell[e].pricePerUnit&&t.push({symbol:e,buy:this.bestBuy[e],sell:this.bestSell[e]});return t.sort((function(t,e){return t.symbol.localeCompare(e.symbol)})),t}},methods:{refresh:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,a,s,r,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.locations=[],e.next=4,t.ships.reload();case 4:i=new Set(t.ships.data.ships.filter((function(t){return t.location})).map((function(t){return t.location}))),a=Object(n["a"])(i),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=17;break}return r=s.value,e.next=12,t.axios.get("/game/locations/"+r+"/marketplace");case 12:l=e.sent,o=l.data,t.locations.push(o.location);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](6),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:t.loading=!1;case 26:case"end":return e.stop()}}),e,null,[[6,19,22,25]])})))()}},mounted:function(){this.refresh()}},v=c,u=i("2877"),b=i("6544"),d=i.n(b),p=i("0798"),m=i("b0af"),y=i("99d9"),h=i("62ad"),f=i("a523"),_=i("ce7e"),C=i("132d"),g=i("8860"),P=i("da13"),x=i("5d23"),U=i("490a"),w=i("0fd9"),k=Object(u["a"])(v,a,s,!1,null,null,null);e["default"]=k.exports;d()(k,{VAlert:p["a"],VCard:m["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:h["a"],VContainer:f["a"],VDivider:_["a"],VIcon:C["a"],VList:g["a"],VListItem:P["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VProgressCircular:U["a"],VRow:w["a"]})}}]);
//# sourceMappingURL=market-ships.d934cf00.js.map