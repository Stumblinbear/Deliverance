{"version":3,"sources":["webpack:///./src/views/Ships.vue","webpack:///src/views/Ships.vue","webpack:///./src/views/Ships.vue?ede5","webpack:///./src/views/Ships.vue?e771"],"names":["attrs","_e","shipSystems","key","_c","_v","_vm","system","name","on","staticRenderFns","staticClass","ship","$event","components","Sun","ShipListItem","chimera","ships","$store","state","username","url","interval","systems","computed","systemMap","data","reduce","acc","symbol","inTransit","sort","a","b","_a$location","location","localeCompare","split","push","locations","component"],"mappings":"kRAA6X,W,IAAG,OAAE,EAAK,QAAS,G,OAAgD,EAAC,iD,MAAC,CAAgB,aAAI,KAAO,U,CAA6C,KAAM,IAAK,sD,MAAK,CAAI,mBAA2DA,GAAM,2BAAykB,8I,MAAC,C,KAA6B,KAAC,SAAM,GAAG,OAAK,CAAC,EAAE,OAAKC,CAAE,EAAE,OAAY,CAACC,SAAqB,UAAiB,CAAE,YAAU,Y,CAASC,EAAG,GAAC,iBAAa,6D,OAAM,EAAC,kB,IAAC,aAAW,E,MAAK,CAAI,OAAIC,MAAG,IAAsE,GAAI,CAAQJ,QAAM,YAAC,OAAQ,2BAAqF,IAAKK,IAAGC,GAAOC,OAAOC,EAAO,GAAE,EAAG,YAAI,kBAAyB,EAAQ,G,OAAM,EAAC,Q,IAAC,UAAU,E,MAAC,CAAe,KAAO,KAAW,GAAK,MAA8B,CAACF,EAAG,OAAI,UAAa,CAAC,EAAE,OAAO,SAAaA,CAAuC,YAAU,Q,CAAkBH,EAAG,MAAC,C,MAA6B,C,MAAQ,Q,GAAiD,SAAQ,W,YAAG,Y,CAACM,EAAG,2C,MAAC,C,MAA2B,G,UAA6B,GAAC,gBAAG,0BAAkB,CAAC,EAAG,GAAG,0DAC99D,2BACGC,cAAoB,QAExB,MAAe,C,2HAJglB,8B,MAAC,CAAgB,UAAI,GAAIN,M,CAAgN,SAAO,GAAI,kB,MAAK,CAAI,mBAAkGO,wBAAY,iBAAW,MAAMN,CAA+F,KAAU,KAAkBF,GAAI,M,GAAwB,OAAOS,GAAI,kB,MAAC,CAAU,KAAC,c,GAAK,qBAAmBC,IAAO,Y,2DCgGxqC,GACAC,WAAA,CAAAC,WAAAC,qBACAC,QAAA,CACAC,QACA,OACAf,IAAA,aAAAgB,OAAAC,MAAAC,SAAA,SACAC,IAAA,eAAAH,OAAAC,MAAAC,SAAA,SACAE,SAAA,MAGAC,UACA,OACArB,IAAA,KAAAgB,OAAAC,MAAAC,SAAA,WACAC,IAAA,mBAIAG,SAAA,CACAvB,cACA,MAAAwB,EAAA,KAAAF,QAAAG,KAAAH,QAAAI,OAAA,CAAAC,EAAAtB,KACAsB,EAAAtB,EAAAuB,QAAAvB,EACAsB,GACA,IAEAL,EAAA,GAEAO,EAAA,GAEA,IAAAxB,EAAA,KACA,QAAAK,IAAA,SAAAM,MAAAS,KAAAT,OAAAc,KAAA,CAAAC,EAAAC,KAAA,IAAAC,EAAA,eAAAA,EAAAF,EAAAG,gBAAA,IAAAD,OAAA,EAAAA,EAAAE,cAAAH,EAAAE,YACA,GAAAxB,EAAAwB,SAAA,CAUA,GALA7B,GAAAK,EAAAwB,SAAAE,MAAA,SAAA/B,EAAAuB,SACAN,EAAAe,KAAAhC,GACAA,EAAA,MAGA,MAAAA,EAAA,CACA,MAAAuB,EAAAlB,EAAAwB,SAAAE,MAAA,QAEA/B,EAAA,CACAuB,SACAtB,KAAAkB,EAAAI,GAAAtB,KACAgC,UAAAd,EAAAI,GAAAU,UAAAZ,OAAA,CAAAC,EAAAO,KACAP,EAAAO,EAAAN,QAAAM,EACAP,GACA,IACAX,MAAA,IAIAX,EAAAW,MAAAqB,KAAA3B,QAvBAmB,EAAAQ,KAAA3B,GA8BA,OAJA,MAAAL,GACAiB,EAAAe,KAAAhC,GAGA,CACAwB,YACAP,cC/J+U,I,YCO3UiB,EAAY,eACd,EACA,EACA/B,GACA,EACA,KACA,KACA,MAIa,aAAA+B,E","file":"js/ships.ac6b42fb.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[(_vm.ships.error || _vm.systems.error)?_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.ships.error || _vm.systems.error)+\" \")]):_c('v-row',{attrs:{\"justify\":\"center\"}},[(!_vm.ships.data || !_vm.systems.data)?_c('v-col',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1),_c('ship-list-item')],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1),_c('ship-list-item')],1)],1)],1)],1):(_vm.ships.data.ships.length == 0)?_c('v-col',[_c('v-alert',[_vm._v(\" You have no ships in your fleet. \")])],1):[(_vm.shipSystems.inTransit.length > 0)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(\"In Transit\")])],1)],1),_c('v-divider'),_vm._l((_vm.shipSystems.inTransit),function(ship,j){return _c('ship-list-item',{key:'intransit-' + j,attrs:{\"ship\":ship,\"dense\":\"\"},on:{\"refresh\":function($event){return _vm.ships.reload(true)}}})})],2)],1)],1):_vm._e(),_vm._l((_vm.shipSystems.systems),function(system,i){return _c('v-col',{key:'system-' + i,attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('div',{staticClass:\"mr-4\"},[_c('sun',{attrs:{\"scale\":.27}})],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(_vm._s(system.name))])],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"small\":\"\",\"depressed\":\"\",\"color\":\"primary\",\"to\":'/systems/' + system.symbol}},[_vm._v(\" View \")])],1)],1),_c('v-divider'),_vm._l((system.ships),function(ship,j){return _c('ship-list-item',{key:'system-' + i + '-' + j,attrs:{\"ship\":ship,\"location\":system.locations[ship.location],\"dense\":\"\"},on:{\"refresh\":function($event){return _vm.ships.reload(true)}}})})],2)],1)],1)})]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n        <v-alert v-if=\"ships.error || systems.error\"\n                prominent type=\"error\">\n            {{ ships.error || systems.error }}\n        </v-alert>\n        <v-row v-else\n                justify=\"center\">\n            <v-col v-if=\"!ships.data || !systems.data\">\n                <v-row>\n                    <v-col cols=\"12\" md=\"6\">\n                        <v-card>\n                            <v-card-text>\n                                <v-skeleton-loader type=\"heading\" />\n                            </v-card-text>\n\n                            <ship-list-item />\n                        </v-card>\n                    </v-col>\n                    <v-col cols=\"12\" md=\"6\">\n                        <v-card>\n                            <v-card-text>\n                                <v-skeleton-loader type=\"heading\" />\n                            </v-card-text>\n\n                            <ship-list-item />\n                        </v-card>\n                    </v-col>\n                </v-row>\n            </v-col>\n            <v-col v-else-if=\"ships.data.ships.length == 0\">\n                <v-alert>\n                    You have no ships in your fleet.\n                </v-alert>\n            </v-col>\n            <template v-else>\n                <v-col v-if=\"shipSystems.inTransit.length > 0\"\n                        cols=\"12\" md=\"6\">\n                    <v-card>\n                        <v-list>\n                            <v-list-item>\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"headline\">In Transit</v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n\n                            <v-divider />\n\n                            <ship-list-item\n                                v-for=\"(ship, j) in shipSystems.inTransit\" :key=\"'intransit-' + j\"\n                                :ship=\"ship\"\n                                dense\n                                @refresh=\"ships.reload(true)\" />\n                        </v-list>\n                    </v-card>\n                </v-col>\n\n                <v-col\n                        v-for=\"(system, i) in shipSystems.systems\" :key=\"'system-' + i\"\n                        cols=\"12\" md=\"6\">\n                    <v-card>\n                        <v-list>\n                            <v-list-item>\n                                <div class=\"mr-4\">\n                                    <sun :scale=\".27\" />\n                                </div>\n                                <v-list-item-content>\n                                    <v-list-item-title class=\"headline\">{{ system.name }}</v-list-item-title>\n                                </v-list-item-content>\n                                <v-list-item-action>\n                                    <v-btn small depressed color=\"primary\" :to=\"'/systems/' + system.symbol\">\n                                        View\n                                    </v-btn>\n                                </v-list-item-action>\n                            </v-list-item>\n\n                            <v-divider />\n\n                            <ship-list-item\n                                v-for=\"(ship, j) in system.ships\" :key=\"'system-' + i + '-' + j\"\n                                :ship=\"ship\"\n                                :location=\"system.locations[ship.location]\"\n                                dense\n                                @refresh=\"ships.reload(true)\" />\n                        </v-list>\n                    </v-card>\n                </v-col>\n            </template>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\n    import Sun from '@/components/locations/Sun.vue';\n    import ShipListItem from '@/components/ShipListItem.vue';\n\n    export default {\n        components: { Sun, ShipListItem },\n        chimera: {\n            ships() {\n                return {\n                    key: 'user-' + this.$store.state.username + '-ships',\n                    url: '/users/' + this.$store.state.username + '/ships',\n                    interval: 1000 * 30\n                }\n            },\n            systems() {\n                return {\n                    key: this.$store.state.username + '-systems',\n                    url: '/game/systems'\n                }\n            }\n        },\n        computed: {\n            shipSystems() {\n                const systemMap = this.systems.data.systems.reduce((acc, system) => {\n                    acc[system.symbol] = system;\n                    return acc;\n                }, { });\n\n                const systems = [];\n\n                const inTransit = [];\n\n                let system = null;\n                for(let ship of [ ...this.ships.data.ships ].sort((a, b) => a.location?.localeCompare(b.location))) {\n                    if(!ship.location) {\n                        inTransit.push(ship);\n                        continue;\n                    }\n\n                    if(system && ship.location.split('-')[0] != system.symbol) {\n                        systems.push(system);\n                        system = null;\n                    }\n\n                    if(system == null) {\n                        const symbol = ship.location.split('-')[0];\n\n                        system = {\n                            symbol,\n                            name: systemMap[symbol].name,\n                            locations: systemMap[symbol].locations.reduce((acc, location) => {\n                                acc[location.symbol] = location;\n                                return acc;\n                            }, { }),\n                            ships: [ ]\n                        };\n                    }\n\n                    system.ships.push(ship);\n                }\n\n                if(system != null) {\n                    systems.push(system);\n                }\n\n                return {\n                    inTransit,\n                    systems\n                };\n            }\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ships.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ships.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ships.vue?vue&type=template&id=5847971a&\"\nimport script from \"./Ships.vue?vue&type=script&lang=js&\"\nexport * from \"./Ships.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}